IUserDao.java

package jtdl;
public interface IUserDao {
	void save();

}

UserDao.java

package jtdl;

public class UserDao implements IUserDao {
	public void save() {
		System.out.println("--已保存数据- -");
	}

}

UserDaoProxy.java

package jtdl;

public class UserDaoProxy implements IUserDao {
	private IUserDao target;
	public UserDaoProxy(IUserDao target) {
		this.target=target;
	}

	@Override
	public void save() {
		System.out.println("--开启事物- -");
		target.save();
		System.out.println("--提交事物- -");
		// TODO Auto-generated method stub

	}

}

test.java

package jtdl;

public class test {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		IUserDao target=new UserDao();
		IUserDao proxy=new UserDaoProxy(target);
		proxy.save();

	}

}
